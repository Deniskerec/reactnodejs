{"ast":null,"code":"import _objectSpread from\"/home/denis/Documents/reactnodejs/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/denis/Documents/reactnodejs/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import axios from'axios';import history from'../utils/history';import Context from'../utils/context';import TextField from'@material-ui/core/TextField';import Button from\"@material-ui/core/Button\";var EditPost=function EditPost(props){var context=useContext(Context);var _useState=useState({title:props.location.state.post.post.title,body:props.location.state.post.post.body}),_useState2=_slicedToArray(_useState,2),stateLocal=_useState2[0],setState=_useState2[1];var handleTitleChange=function handleTitleChange(event){setState(_objectSpread({},stateLocal,{title:event.target.value}));};var handleBodyChange=function handleBodyChange(event){setState(_objectSpread({},stateLocal,{body:event.target.value}));};var handleSubmit=function handleSubmit(event){event.preventDefault();var user_id=context.dbProfileState[0].uid;var username=context.dbProfileState[0].username;var pid=props.location.state.post.post.pid;var title=event.target.title.value;var body=event.target.body.value;var data={title:title,body:body,pid:pid,uid:user_id,username:username};axios.put(\"/api/put/post\",data).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);}).then(setTimeout(function(){return history.replace('/profile');},700));};return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(TextField,{id:\"title\",label:\"title\",margin:\"normal\",value:stateLocal.title,onChange:handleTitleChange}),React.createElement(\"br\",null),React.createElement(TextField,{id:\"body\",label:\"body\",multiline:true,rows:\"4\",margin:\"normal\",value:stateLocal.body,onChange:handleBodyChange}),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"submit\"},\" Submit \")),React.createElement(\"br\",null),React.createElement(Button,{onClick:function onClick(){return history.goBack();}},\" Cancel \"));};export default EditPost;","map":{"version":3,"sources":["/home/denis/Documents/reactnodejs/Client/src/Blog/editpost.js"],"names":["React","useContext","useState","axios","history","Context","TextField","Button","EditPost","props","context","title","location","state","post","body","stateLocal","setState","handleTitleChange","event","target","value","handleBodyChange","handleSubmit","preventDefault","user_id","dbProfileState","uid","username","pid","data","put","then","res","console","log","catch","err","setTimeout","replace","goBack"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport history from '../utils/history';\r\nimport Context from '../utils/context';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\n\r\n\r\nconst EditPost = (props) => {\r\n  const context = useContext(Context)\r\n\r\n  const [stateLocal, setState] = useState({ title: props.location.state.post.post.title,\r\n                                            body: props.location.state.post.post.body\r\n                                          })\r\n\r\n\r\n  const handleTitleChange = (event) => {\r\n    setState({...stateLocal, title: event.target.value })\r\n  }\r\n\r\n  const handleBodyChange = (event) => {\r\n    setState({...stateLocal, body: event.target.value })\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    const user_id = context.dbProfileState[0].uid\r\n    const username = context.dbProfileState[0].username\r\n    const pid = props.location.state.post.post.pid\r\n    const title = event.target.title.value\r\n    const body = event.target.body.value\r\n\r\n    const data = {title: title,\r\n                  body: body,\r\n                  pid: pid,\r\n                  uid: user_id,\r\n                  username: username\r\n                 }\r\n    axios.put(\"/api/put/post\", data)\r\n      .then(res => console.log(res))\r\n      .catch(err => console.log(err))\r\n      .then(setTimeout(() => history.replace('/profile'), 700 ))\r\n  }\r\n\r\n\r\n    return(\r\n        <div>\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField\r\n              id='title'\r\n              label='title'\r\n              margin=\"normal\"\r\n              value={stateLocal.title}\r\n              onChange={handleTitleChange}\r\n            />\r\n            <br />\r\n            <TextField\r\n              id='body'\r\n              label='body'\r\n              multiline\r\n              rows=\"4\"\r\n              margin='normal'\r\n              value={stateLocal.body}\r\n              onChange={handleBodyChange}\r\n              />\r\n          <br />\r\n          <button type=\"submit\"> Submit </button>\r\n          </form>\r\n          <br />\r\n          <Button onClick={() => history.goBack()}> Cancel </Button>\r\n        </div>\r\n    )}\r\n\r\n\r\n\r\nexport default EditPost;\r\n"]},"metadata":{},"sourceType":"module"}