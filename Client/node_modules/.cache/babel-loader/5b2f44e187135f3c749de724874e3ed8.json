{"ast":null,"code":"import React,{useContext}from'react';import axios from'axios';import history from'../utils/history';import Context from'../utils/context';import TextField from'@material-ui/core/TextField';var AddPost=function AddPost(){var context=useContext(Context);var handleSubmit=function handleSubmit(event){event.preventDefault();var user_id=context.dbProfileState[0].uid;var username=context.dbProfileState[0].username;var data={title:event.target.title.value,body:event.target.body.value,username:username,uid:user_id};axios.post('/api/post/posttodb',data).then(function(response){return console.log(response);}).catch(function(err){return console.log(err);}).then(setTimeout(function(){return history.replace('/');},700));};return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(TextField,{id:\"title\",label:\"Title\",margin:\"normal\"}),React.createElement(\"br\",null),React.createElement(TextField,{id:\"body\",label:\"Body\",multiline:true,rowsMax:\"4\",margin:\"normal\"}),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"submit\"},\" Submit \")),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:function onClick(){return history.replace('/posts');}},\" Cancel \"));};export default AddPost;","map":{"version":3,"sources":["/home/denis/Documents/reactnodejs/Client/src/Blog/addpost.js"],"names":["React","useContext","axios","history","Context","TextField","AddPost","context","handleSubmit","event","preventDefault","user_id","dbProfileState","uid","username","data","title","target","value","body","post","then","response","console","log","catch","err","setTimeout","replace"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,CAACG,OAAD,CAA1B,CAEA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,OAAO,CAAGJ,OAAO,CAACK,cAAR,CAAuB,CAAvB,EAA0BC,GAA1C,CACA,GAAMC,CAAAA,QAAQ,CAAGP,OAAO,CAACK,cAAR,CAAuB,CAAvB,EAA0BE,QAA3C,CACA,GAAMC,CAAAA,IAAI,CAAG,CAACC,KAAK,CAAEP,KAAK,CAACQ,MAAN,CAAaD,KAAb,CAAmBE,KAA3B,CACCC,IAAI,CAAEV,KAAK,CAACQ,MAAN,CAAaE,IAAb,CAAkBD,KADzB,CAECJ,QAAQ,CAAEA,QAFX,CAGCD,GAAG,CAAEF,OAHN,CAAb,CAKAT,KAAK,CAACkB,IAAN,CAAW,oBAAX,CAAiCL,IAAjC,EACGM,IADH,CACQ,SAAAC,QAAQ,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAJ,EADhB,EAEGG,KAFH,CAES,SAACC,GAAD,QAASH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAT,EAFT,EAGGL,IAHH,CAGQM,UAAU,CAAC,iBAAMxB,CAAAA,OAAO,CAACyB,OAAR,CAAgB,GAAhB,CAAN,EAAD,CAA6B,GAA7B,CAHlB,EAID,CAbD,CAgBE,MACE,gCACE,4BAAM,QAAQ,CAAEpB,YAAhB,EACE,oBAAC,SAAD,EACE,EAAE,CAAC,OADL,CAEE,KAAK,CAAC,OAFR,CAGE,MAAM,CAAC,QAHT,EADF,CAME,8BANF,CAOE,oBAAC,SAAD,EACE,EAAE,CAAC,MADL,CAEE,KAAK,CAAC,MAFR,CAGE,SAAS,KAHX,CAIE,OAAO,CAAC,GAJV,CAKE,MAAM,CAAC,QALT,EAPF,CAcG,8BAdH,CAeG,8BAAQ,IAAI,CAAC,QAAb,aAfH,CADF,CAkBE,8BAlBF,CAmBE,8BAAQ,OAAO,CAAE,yBAAML,CAAAA,OAAO,CAACyB,OAAR,CAAgB,QAAhB,CAAN,EAAjB,aAnBF,CADF,CAsBA,CAzCJ,CA6CA,cAAetB,CAAAA,OAAf","sourcesContent":["import React, { useContext} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport history from '../utils/history';\r\nimport Context from '../utils/context';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n\r\nconst AddPost = () => {\r\n  const context = useContext(Context)\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const user_id = context.dbProfileState[0].uid\r\n    const username = context.dbProfileState[0].username\r\n    const data = {title: event.target.title.value,\r\n                  body: event.target.body.value,\r\n                  username: username,\r\n                  uid: user_id}\r\n\r\n    axios.post('/api/post/posttodb', data)\r\n      .then(response => console.log(response))\r\n      .catch((err) => console.log(err))\r\n      .then(setTimeout(() => history.replace('/'), 700) )\r\n  }\r\n\r\n\r\n    return(\r\n      <div>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            id='title'\r\n            label='Title'\r\n            margin='normal'\r\n            />\r\n          <br />\r\n          <TextField\r\n            id='body'\r\n            label='Body'\r\n            multiline\r\n            rowsMax='4'\r\n            margin=\"normal\"\r\n            />\r\n           <br />\r\n           <button type='submit'> Submit </button>\r\n           </form>\r\n        <br />\r\n        <button onClick={() => history.replace('/posts')}> Cancel </button>\r\n      </div>\r\n  )}\r\n\r\n\r\n\r\nexport default AddPost;\r\n"]},"metadata":{},"sourceType":"module"}