{"ast":null,"code":"import React,{useContext}from'react';import Context from'../utils/context';import axios from'axios';import history from'../utils/history';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';var SendMessage=function SendMessage(props){var context=useContext(Context);var handleSubmit=function handleSubmit(event){event.preventDefault();var message_to_username=props.location.state.props.profile[0].username;var message_from_username=context.dbProfileState[0].username;var message_title=event.target.title.value;var message_body=event.target.body.value;var data={message_sender:message_from_username,message_to:message_to_username,title:message_title,body:message_body};console.log(props);axios.post('/api/post/messagetodb',data).then(function(response){return console.log(response);}).catch(function(error){console.log(error);}).then(setTimeout(function(){history.replace('/');},700));};return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(TextField,{id:\"title\",label:\"Title\",margin:\"normal\"}),React.createElement(\"br\",null),React.createElement(TextField,{id:\"body\",multiline:true,rows:\"4\",margin:\"normal\"}),React.createElement(\"br\",null),React.createElement(Button,{variant:\"contained\",color:\"primary\",type:\"submit\"},\"Submit\")),React.createElement(\"br\",null),React.createElement(\"span\",null,React.createElement(\"button\",{className:\"CancelButton\",onClick:function onClick(){return history.replace('/');}},\" Cancel \")));};export default SendMessage;","map":{"version":3,"sources":["/home/denis/Documents/reactnodejs/Client/src/Profile/sendmessage.js"],"names":["React","useContext","Context","axios","history","TextField","Button","SendMessage","props","context","handleSubmit","event","preventDefault","message_to_username","location","state","profile","username","message_from_username","dbProfileState","message_title","target","title","value","message_body","body","data","message_sender","message_to","console","log","post","then","response","catch","error","setTimeout","replace"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAIA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,CAAAA,OAAO,CAAGR,UAAU,CAACC,OAAD,CAA1B,CAEA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC5BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,mBAAmB,CAAGL,KAAK,CAACM,QAAN,CAAeC,KAAf,CAAqBP,KAArB,CAA2BQ,OAA3B,CAAmC,CAAnC,EAAsCC,QAAlE,CACA,GAAMC,CAAAA,qBAAqB,CAAGT,OAAO,CAACU,cAAR,CAAuB,CAAvB,EAA0BF,QAAxD,CACA,GAAMG,CAAAA,aAAa,CAAGT,KAAK,CAACU,MAAN,CAAaC,KAAb,CAAmBC,KAAzC,CACA,GAAMC,CAAAA,YAAY,CAAGb,KAAK,CAACU,MAAN,CAAaI,IAAb,CAAkBF,KAAvC,CAEA,GAAMG,CAAAA,IAAI,CAAG,CAACC,cAAc,CAAET,qBAAjB,CACCU,UAAU,CAAEf,mBADb,CAECS,KAAK,CAAEF,aAFR,CAGCK,IAAI,CAAED,YAHP,CAAb,CAIAK,OAAO,CAACC,GAAR,CAAYtB,KAAZ,EACAL,KAAK,CAAC4B,IAAN,CAAW,uBAAX,CAAoCL,IAApC,EACGM,IADH,CACQ,SAAAC,QAAQ,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ,CAAJ,EADhB,EAEGC,KAFH,CAES,SAAUC,KAAV,CAAiB,CACtBN,OAAO,CAACC,GAAR,CAAYK,KAAZ,EACD,CAJH,EAKGH,IALH,CAKQI,UAAU,CAAE,UAAW,CAAEhC,OAAO,CAACiC,OAAR,CAAgB,GAAhB,EAAsB,CAArC,CAAuC,GAAvC,CALlB,EAOE,CAnBJ,CAsBE,MACA,gCACE,4BAAM,QAAQ,CAAE3B,YAAhB,EACE,oBAAC,SAAD,EACE,EAAE,CAAC,OADL,CAEE,KAAK,CAAC,OAFR,CAGE,MAAM,CAAC,QAHT,EADF,CAME,8BANF,CAOI,oBAAC,SAAD,EACA,EAAE,CAAC,MADH,CAEA,SAAS,KAFT,CAGA,IAAI,CAAC,GAHL,CAIA,MAAM,CAAC,QAJP,EAPJ,CAaE,8BAbF,CAcI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,IAAI,CAAC,QAAjD,WAdJ,CADF,CAiBE,8BAjBF,CAkBG,gCACC,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACiC,OAAR,CAAgB,GAAhB,CAAN,EAA1C,aADD,CAlBH,CADA,CAwBH,CAjDD,CAsDA,cAAgB9B,CAAAA,WAAhB","sourcesContent":["import React, { useContext } from 'react';\r\nimport Context from '../utils/context';\r\nimport axios from 'axios';\r\nimport history from '../utils/history';\r\n\r\n\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\nconst SendMessage = (props) => {\r\n  const context = useContext(Context)\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n    const message_to_username = props.location.state.props.profile[0].username\r\n    const message_from_username = context.dbProfileState[0].username\r\n    const message_title = event.target.title.value\r\n    const message_body = event.target.body.value\r\n\r\n    const data = {message_sender: message_from_username,\r\n                  message_to: message_to_username,\r\n                  title: message_title,\r\n                  body: message_body }\r\n    console.log(props)\r\n    axios.post('/api/post/messagetodb', data)\r\n      .then(response => console.log(response))\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n      .then(setTimeout( function() { history.replace('/') }, 700))\r\n\r\n     }\r\n\r\n\r\n    return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          id=\"title\"\r\n          label=\"Title\"\r\n          margin=\"normal\"\r\n        />\r\n        <br/>\r\n          <TextField\r\n          id=\"body\"\r\n          multiline\r\n          rows=\"4\"\r\n          margin=\"normal\"\r\n        />\r\n        <br/>\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" >Submit</Button>\r\n      </form>\r\n      <br />\r\n       <span>\r\n        <button className=\"CancelButton\" onClick={() => history.replace('/')}> Cancel </button>\r\n       </span>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default (SendMessage);\r\n"]},"metadata":{},"sourceType":"module"}