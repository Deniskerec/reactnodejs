{"ast":null,"code":"import _toConsumableArray from\"/home/denis/Documents/reactnodejs/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/denis/Documents/reactnodejs/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/denis/Documents/reactnodejs/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import moment from'moment';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import CardHeader from'@material-ui/core/CardHeader';import Button from'@material-ui/core/Button';var ShowUser=function ShowUser(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userPosts=_useState4[0],setPosts=_useState4[1];useEffect(function(){var username=props.location.state.post.post.author;axios.get('/api/get/otheruserprofilefromdb',{params:{username:username}}).then(function(res){return setProfile(_objectSpread({},res.data));}).catch(function(error){console.log(error);});axios.get('/api/get/otheruserposts',{params:{username:username}}).then(function(res){return setPosts(_toConsumableArray(res.data));}).catch(function(error){console.log(error);});window.scrollTo({top:0,left:0});},[props.location.state.post.post.author]);var RenderProfile=function RenderProfile(props){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"FlexRow\"},React.createElement(\"h1\",null,props.profile.username)),React.createElement(\"div\",{className:\"FlexRow\"},React.createElement(Link,{to:{pathname:\"/sendmessage/\",state:{props:props}}},React.createElement(Button,{variant:\"contained\",color:\"primary\",type:\"submit\"},\"Send Message\"))));};var RenderPosts=function RenderPosts(post){return React.createElement(\"div\",null,React.createElement(Card,{className:\"CardStyles\"},React.createElement(CardHeader,{title:React.createElement(Link,{to:{pathname:\"/post/\"+post.post.pid,state:{post:post}}},post.post.title),subheader:React.createElement(\"div\",null,React.createElement(\"div\",null,moment(post.post.date_created).format('MMMM Do, YYYY | h:mm a')),React.createElement(\"div\",null,post.post.author))}),React.createElement(CardContent,null,React.createElement(\"span\",{style:{overflow:'hidden'}},post.post.body,\" \"))));};return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"FlexRow\"},profile?React.createElement(RenderProfile,{profile:profile}):null),React.createElement(\"br\",null),React.createElement(\"hr\",{className:\"style-two\"}),React.createElement(\"h3\",null,\" Latest Activity: \"),React.createElement(\"div\",{className:\"FlexColumn\"},userPosts?userPosts.map(function(post){return React.createElement(\"div\",{key:post.pid},React.createElement(RenderPosts,{post:post}),React.createElement(\"br\",null));}):null));};export default ShowUser;","map":{"version":3,"sources":["/home/denis/Documents/reactnodejs/Client/src/Profile/showuser.js"],"names":["React","useState","useEffect","Link","axios","moment","Card","CardContent","CardHeader","Button","ShowUser","props","profile","setProfile","userPosts","setPosts","username","location","state","post","author","get","params","then","res","data","catch","error","console","log","window","scrollTo","top","left","RenderProfile","pathname","RenderPosts","pid","title","date_created","format","overflow","body","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nconst ShowUser = (props) => {\r\n\r\n  const [profile, setProfile ] = useState({})\r\n  const [userPosts, setPosts ] = useState([])\r\n\r\n  useEffect(() => {\r\n    const username = props.location.state.post.post.author\r\n    axios.get('/api/get/otheruserprofilefromdb', {params: {username: username}} )\r\n      .then(res =>  setProfile({...res.data} ))\r\n      .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n     axios.get('/api/get/otheruserposts', {params: {username: username}} )\r\n       .then(res =>  setPosts([...res.data]))\r\n       .catch(function (error) {\r\n           console.log(error);\r\n         })\r\n      window.scrollTo({top: 0, left: 0})\r\n    }, [props.location.state.post.post.author] )\r\n\r\n\r\n  const RenderProfile = (props) => (\r\n    <div>\r\n      <div className=\"FlexRow\">\r\n         <h1>\r\n            {props.profile.username}\r\n         </h1>\r\n         </div>\r\n         <div className=\"FlexRow\">\r\n         <Link to={{pathname:\"/sendmessage/\", state:{props} }}>\r\n             <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                Send Message\r\n             </Button>\r\n          </Link>\r\n        </div>\r\n    </div>\r\n    );\r\n\r\n\r\n  const RenderPosts = (post) => (\r\n    <div>\r\n     <Card className=\"CardStyles\">\r\n        <CardHeader\r\n          title={<Link to={{pathname:\"/post/\" + post.post.pid, state: {post} }}>\r\n                { post.post.title }\r\n                </Link>}\r\n          subheader={\r\n                    <div>\r\n                      <div >\r\n                      {  moment(post.post.date_created).format('MMMM Do, YYYY | h:mm a') }\r\n                      </div>\r\n                      <div >{post.post.author}</div>\r\n                    </div> }\r\n        />\r\n        <CardContent>\r\n            <span style={{ overflow: 'hidden'}}>{ post.post.body } </span>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n\r\n   return (\r\n     <div>\r\n     <div className=\"FlexRow\">\r\n        {profile\r\n          ? <RenderProfile profile={profile} />\r\n          : null\r\n         }\r\n     </div>\r\n\r\n    <br />\r\n    <hr className=\"style-two\" />\r\n\r\n     <h3> Latest Activity: </h3>\r\n       <div className=\"FlexColumn\">\r\n       { userPosts ?\r\n          userPosts.map(post =>\r\n          <div key={ post.pid }>\r\n             <RenderPosts  post={post} />\r\n             <br />\r\n          </div>\r\n           )\r\n       : null\r\n       }\r\n       </div>\r\n     </div>\r\n  )\r\n}\r\n\r\n\r\nexport default (ShowUser);\r\n"]},"metadata":{},"sourceType":"module"}